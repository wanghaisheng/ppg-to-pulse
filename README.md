# ppg-to-pulse


## preprocess

### 去工频

工频信号干扰的去除、肌电干扰去除等



### 滤波

首先采用带通滤波器将原脉搏波中除0.032~30 Hz以外的噪声去除，其次经过中值滤波消除孤立噪声点，然后使用小波变换进一步去除脉象数据的低频噪声，得到能显现脉搏波特征的脉象图，如图5所示。

### 基线漂移 

最后，通过相应的单周期频率窗口，利用三次样条插值方法和频率窗口找到脉象波形的最小值，并通过脉象数据减去最小值拟合曲线来彻底去除基线漂移得到最终的脉象波形，如图6所示。

### 单周期切割


对滤波后的脉象信号进行 单周期分割，获得脉象的单周期波形。

由于脉象数据集中的数据过少，本文采用少数类样本过采样技术（Synthetic Minority OversamplingTechnique，SMOTE）对脉象数据集进行过采样以扩增脉象数据集的样本，防止MECA⁃ResNet欠拟合


https://github.com/scientisst/BioSPPy


### 异质性评估

https://bbs.pinggu.org/thread-429415-1-1.html

>让我来解释一下吧。
如何准确识别自变量X对因变量Y的作用？考虑到影响Y的因素有很多，不仅包括X，也包括其他因素（也即非观测因素）。为逻辑清晰起见，我们简单把非观测因素的作用归结为Z。如果X的值变化了，Z的值也随之变动，此时你观测到的Y的变动，到底是X引起的，还是Z引起的？说不清楚。
所以，逻辑上来讲，只有在Z不变的情况下，X变了，Y也变了，你才可以说，Y的变动确实是X引起的，因为此时其他因素Z是保持不变的，也就是我们通常说的“其他因素不变”。
那么，其他因素Z不变，如果其作用被吸收进误差项（因为既然Z是非观测因素，缺乏有效测量数据，那么你在计量经济模型中是只考虑X的），其在统计上的表现之一就是误差项的方差应该保持不变（当然还有其他统计上的表现，方差不变只是“其他条件不变”这一前提的统计表现之一）。因为误差项是随机因素成分，其方差不应随X的变化而表现出系统性的差别。当把Z的效应纳入误差项后，如果Z是随X变化的（就是不同的X，其他因素Z也不同），那么这样的误差项当然就表现出“异方差”了。
从另一个角度来说，同方差假设给统计推断带来便利，因为你要估计的方差数大大减少了。不管X取何值，误差项的条件方差都是一样的，否则X每取一个值，你都要去估计一个条件方差，重复测量数据还勉强可以做到，一般的横截面数据是不可能估计出这么多的误差方差的。
